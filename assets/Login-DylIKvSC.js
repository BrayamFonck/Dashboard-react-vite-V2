import{u as y,r as i,j as e,L as N}from"./index-CV8h1QbZ.js";import{E as C}from"./ErrorMessage-BdllXXuZ.js";const P=()=>{const{login:g,register:f}=y(),[a,x]=i.useState(!0),[m,p]=i.useState(!1),[o,r]=i.useState(""),[c,n]=i.useState(""),[s,u]=i.useState({fullName:"",email:"",password:"",confirmPassword:"",role:"colaborador"}),l=d=>{const{name:t,value:v}=d.target;u(j=>({...j,[t]:v})),o&&r(""),c&&n("")},h=()=>{if(!s.email||!s.password)return r("Email y contraseña son requeridos"),!1;if(!a){if(!s.fullName)return r("El nombre completo es requerido"),!1;if(s.password!==s.confirmPassword)return r("Las contraseñas no coinciden"),!1;if(s.password.length<6)return r("La contraseña debe tener al menos 6 caracteres"),!1}return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)?!0:(r("Por favor ingresa un email válido"),!1)},b=async d=>{if(d.preventDefault(),!!h()){p(!0),r(""),n("");try{if(a){const t=await g(s.email,s.password);t.success||r(t.message)}else{const t=await f({fullName:s.fullName,email:s.email,password:s.password,role:s.role});t.success?(n("Usuario registrado exitosamente. Ahora puedes iniciar sesión."),x(!0),u({fullName:"",email:"",password:"",confirmPassword:"",role:"colaborador"})):r(t.message)}}catch{r("Ha ocurrido un error inesperado")}finally{p(!1)}}},w=()=>{x(!a),r(""),n(""),u({fullName:"",email:"",password:"",confirmPassword:"",role:"colaborador"})};return m?e.jsx(N,{message:a?"Iniciando sesión...":"Registrando usuario..."}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-400 via-pink-500 to-purple-600 flex items-center justify-center py-4 px-4 sm:py-8 sm:px-6 lg:px-8 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full","aria-hidden":"true",children:[e.jsx("div",{className:"absolute top-10 left-10 sm:top-20 sm:left-20 w-24 h-24 sm:w-32 sm:h-32 bg-white bg-opacity-10 rounded-full blur-xl"}),e.jsx("div",{className:"absolute bottom-16 right-8 sm:bottom-32 sm:right-16 w-32 h-32 sm:w-48 sm:h-48 bg-white bg-opacity-10 rounded-full blur-xl"})]}),e.jsx("div",{className:"max-w-7xl w-full flex items-center justify-center relative z-10",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 lg:gap-8 items-center w-full",children:[e.jsx("div",{className:"text-white space-y-4 sm:space-y-6 px-4 sm:px-8 order-2 lg:order-1 text-center lg:text-left",children:e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl md:text-4xl lg:text-5xl font-bold leading-tight",children:["Dashboard de",e.jsx("span",{className:"block text-yellow-300",children:"Criptomonedas"}),e.jsx("span",{className:"block",children:"en Tiempo Real"})]}),e.jsx("p",{className:"text-sm sm:text-base lg:text-lg leading-relaxed max-w-md mx-auto lg:mx-0",children:"Monitorea, analiza y gestiona tus inversiones en criptomonedas con datos actualizados en tiempo real. La plataforma más completa para traders y entusiastas de las criptomonedas."}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center lg:justify-start space-y-2 sm:space-y-0 sm:space-x-4 text-orange-100",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm sm:text-base",children:"Datos en tiempo real"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-green-400",fill:"currentColor",viewBox:"0 0 20 20","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),e.jsx("span",{className:"text-sm sm:text-base",children:"100% Seguro"})]})]})]})}),e.jsxs("div",{className:"bg-white rounded-xl sm:rounded-2xl shadow-2xl p-4 sm:p-6 lg:p-8 max-w-md w-full mx-auto order-1 lg:order-2",children:[e.jsxs("div",{className:"text-center mb-6 sm:mb-8",children:[e.jsx("div",{className:"mx-auto h-12 w-12 sm:h-16 sm:w-16 bg-gradient-to-r from-orange-400 to-pink-500 rounded-full flex items-center justify-center mb-3 sm:mb-4",children:e.jsx("svg",{className:"h-6 w-6 sm:h-8 sm:w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800 mb-2",children:a?"Bienvenido de vuelta":"Crear nueva cuenta"}),e.jsx("p",{className:"text-gray-600 text-sm",children:a?"Ingresa tus credenciales para continuar":"Completa el formulario para registrarte"})]}),e.jsx(C,{message:o,onClose:()=>r("")}),c&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4 text-sm",role:"alert","aria-live":"polite",children:c}),e.jsxs("form",{onSubmit:b,className:"space-y-4 sm:space-y-5",noValidate:!0,children:[!a&&e.jsxs("div",{children:[e.jsx("label",{htmlFor:"fullName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Nombre Completo *"}),e.jsx("input",{id:"fullName",name:"fullName",type:"text",required:!a,value:s.fullName,onChange:l,className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 bg-gray-50 hover:bg-white text-sm sm:text-base",placeholder:"Ingresa tu nombre completo","aria-describedby":!a&&!s.fullName?"fullName-error":void 0,"aria-invalid":!a&&!s.fullName&&o?"true":"false"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Correo Electrónico *"}),e.jsx("input",{id:"email",name:"email",type:"email",required:!0,value:s.email,onChange:l,className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 bg-gray-50 hover:bg-white text-sm sm:text-base",placeholder:"ejemplo@correo.com","aria-describedby":s.email?void 0:"email-error","aria-invalid":!s.email&&o?"true":"false"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Contraseña *"}),e.jsx("input",{id:"password",name:"password",type:"password",required:!0,value:s.password,onChange:l,className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 bg-gray-50 hover:bg-white text-sm sm:text-base",placeholder:"Ingresa tu contraseña","aria-describedby":s.password?void 0:"password-error","aria-invalid":!s.password&&o?"true":"false"})]}),!a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Confirmar Contraseña *"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",required:!a,value:s.confirmPassword,onChange:l,className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 bg-gray-50 hover:bg-white text-sm sm:text-base",placeholder:"Confirma tu contraseña","aria-describedby":"confirmPassword-help"}),e.jsx("p",{id:"confirmPassword-help",className:"text-xs text-gray-500 mt-1",children:"Debe coincidir con la contraseña anterior"})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Tipo de Usuario"}),e.jsxs("select",{id:"role",name:"role",value:s.role,onChange:l,className:"w-full px-3 sm:px-4 py-2 sm:py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-400 focus:border-transparent transition-all duration-200 bg-gray-50 hover:bg-white text-sm sm:text-base","aria-describedby":"role-help",children:[e.jsx("option",{value:"colaborador",children:"Colaborador"}),e.jsx("option",{value:"admin",children:"Administrador"})]}),e.jsx("p",{id:"role-help",className:"text-xs text-gray-500 mt-1",children:"Los administradores tienen acceso completo al sistema"})]})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-orange-400 to-pink-500 text-white font-bold py-3 sm:py-4 px-4 sm:px-6 rounded-lg hover:from-orange-500 hover:to-pink-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-orange-400 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 transform hover:scale-[1.02] hover:shadow-lg text-sm sm:text-base lg:text-lg","aria-describedby":"submit-status",children:m?e.jsxs("div",{className:"flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 sm:h-5 sm:w-5 border-b-2 border-white mr-2 sm:mr-3","aria-hidden":"true"}),e.jsx("span",{className:"text-white font-semibold",children:a?"Iniciando sesión...":"Creando cuenta..."})]}):e.jsx("span",{className:"text-white font-semibold",children:a?"Iniciar Sesión":"Crear Cuenta"})})]}),e.jsx("div",{className:"mt-4 sm:mt-6 text-center",children:e.jsxs("p",{className:"text-gray-600 text-sm",children:[a?"¿No tienes cuenta?":"¿Ya tienes cuenta?",e.jsx("button",{type:"button",onClick:w,className:"ml-2 font-semibold text-orange-500 hover:text-orange-600 focus:outline-none focus:ring-2 focus:ring-orange-400 focus:ring-offset-2 rounded transition-colors","aria-describedby":"toggle-help",children:a?"Regístrate gratis":"Inicia sesión"})]})}),a&&e.jsxs("div",{className:"mt-4 sm:mt-6 p-3 sm:p-4 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("p",{className:"text-xs font-medium mb-2 text-blue-800",children:"💡 Usuarios de demostración:"}),e.jsxs("div",{className:"text-xs text-blue-700 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Admin:"})," brayan@admin.com / admin123"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Colaborador:"})," maria@colaborador.com / colaborador123"]})]})]})]})]})})]})};export{P as default};
